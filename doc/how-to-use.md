# 使用方法

ゲームパッドを使用してメロディーやコードを演奏することができる Web アプリケーションです。 [アナコンMIDI昆布](https://www.nicovideo.jp/watch/sm3964382) や [あの昆布](https://www.nicovideo.jp/watch/sm6587448) の Web 版に相当します。

画面の「START」ボタンをクリックすると、アプリケーションが音を出せる状態になります。

注意: このヘルプでは、十字キーとABXY(○×△□)ボタンを**演奏ボタン**、LRボタン(LB/RB, L1/R1)やZL/ZRボタン(LT/RT, L2/R2)を**トリガーボタン**と表記します。

## トラック

![](https://user-images.githubusercontent.com/7447366/156334687-00b7fee9-c5f5-4cfa-8fe2-ece534af0c28.png)

画面にはトラックのリストが表示されます。「トラックを追加」ボタンをクリックするとトラックを追加できます。この状態でゲームパッドでボタンを入力すると演奏することができます。

左上のボタンでトラックの折りたたみ、右上の歯車ボタンでトラックの設定を開くことができます。

## 演奏

画面に表示されている演奏ボタンを押すことで、メロディーを演奏します。デフォルトでは「ソラシドレミファソ」の順番に音が配置されています。

### 一時シフト

トリガーボタンを押している間は一時的に音程をシフトすることができます。トリガーボタンを押しながら演奏ボタンを押すことで、より広い範囲の音を演奏することができます。

L1 ボタンを押すと完全 8 度上 (1 オクターブ上) に、 L2 ボタンを押すと完全 8 度下 (1 オクターブ下) にシフトします。

R1 ボタンを押すと増 1 度上 (半音上) に、 R2 ボタンを押すと増 1 度下 (半音下) にシフトします。

一時シフトの設定は割り当て設定でカスタマイズすることができます。

### シフトモード

セレクトボタンを押している間はシフトモードに入ります。キーの変更やキーボタンの変更を行うことができます。

シフトモード中に演奏ボタンを押すと、そのボタンが「ド」となるように配置が変更されます。例えば、シフトモード中に十字キーの下を押すと「ドレミファソラシド」の順になり、十字キーの左を押すと「シドレミファソラシ」の順になります。曲に応じて演奏しやすいキーボタンを設定しましょう。

シフトモード中に L1 ボタンを押すと完全 8 度上 (1 オクターブ上) に、 L2 ボタンを押すと完全 8 度下 (1 オクターブ下) にキーを変更します。 R1 ボタンを押すと増 1 度上 (半音上) に、 R2 ボタンを押すと増 1 度下 (半音下) にキーを変更します。曲の調が変わる場合に使用します。

シフトモードの設定は割り当て設定でカスタマイズすることができます。

### コード演奏モード

スタートボタンを押すと、メロディー演奏モードとコード演奏モードを切り替えることができます。コード演奏モードでは単音ではなく和音を演奏します。

演奏するコードは 8 セットまで準備することができ、セレクトボタンを押しながら演奏ボタンを押すことでセットを切り替えることができます。デフォルトでは十字キーの下がアクティブなセットです。

デフォルトでは、メジャースケールのダイアトニックコード (I, IIm, IIIm, IV, V, VIm, VIIdim) と #IVm7-5 が設定されています。

トリガーボタンを押した場合に別のコードを演奏するよう設定することができます。トリガーボタンは 4 つ存在するため、トリガーボタンの組み合わせは 2^4 = 16 通りあります。それぞれに個別にコードを割り当てることができます。デフォルトでは何も設定されていないので、割り当て設定でカスタマイズして下さい。

## 入力設定

![](https://user-images.githubusercontent.com/7447366/156334771-4655f657-753d-41e9-b00d-6e3bbf593e91.png)

ゲームパッドのボタン割り当てを変更します。右側のボタンをクリックすると、このトラックのボタンを編集・削除できます。

## 割り当て設定

![](https://user-images.githubusercontent.com/7447366/156334853-5b67a57e-fa7d-4cd7-8088-d03424f8f80f.png)

ゲームパッドの入力を音符に変換する設定を行います。

- **キー**: 演奏するキーを設定します。
- **シフトモード**: セレクトボタンを押している間、トリガーボタンでキーをシフトする量を設定します。
- **演奏モード**: メロディー演奏モードとコード演奏モードを切り替えます。スタートボタンでも切り替えできます。

### メロディー設定

![](https://user-images.githubusercontent.com/7447366/156334935-4a53790a-f35c-4ed5-80f2-70739482a3d1.png)

メロディー演奏モードの設定を行います。

- **レイアウト**: 音階のレイアウトを設定します。
- **キーボタン**: どの演奏ボタンを基準に音階を配置するかを設定します。セレクトボタンを押しながら演奏ボタンを押すことでも設定できます。
- **スケール**: 使用する音階を設定します。
- **機能**: トリガーボタンを押した時の機能を設定できます。半音・オクターブ一時シフトやサスティンペダルを設定できます。

### コード設定

![](https://user-images.githubusercontent.com/7447366/156334984-d8e6ad42-ac2e-4161-a1e7-fb0bdbd54f28.png)

コード演奏モードの設定を行います。

- **コードセット**: 8 個までコードセットを設定することができます。セレクトボタンを押しながら演奏ボタンを押すことでも切り替えできます。

トリガーボタンの組み合わせ毎に異なるコードを設定することができます。トリガーボタンの組み合わせを左側ボタンで選び、その後演奏ボタンにコードを設定します。ルート音を度数で指定し、コードタイプを設定します。コードのオクターブシフトやテンション、ベース音の変更も行えます。

## シンセサイザー設定

![](https://user-images.githubusercontent.com/7447366/156335130-ef009467-f832-4ab6-a9aa-359cab055391.png)

音源の設定を行います。

- **音源**: 現在はオシレーターのみ選択可能です。
- **波形**: オシレーターの波形を設定します。
- **デチューン**: ピッチをずらす量を設定します。
- **オシレーター数** (ファットオシレーターのみ): 使用するオシレーター数を設定します。
- **拡散** (ファットオシレーターのみ): オシレーター間でピッチをずらす量を設定します。
- **アタック**: 音の立ち上がり時間を設定します。
- **ディケイ**: 音の減衰時間を設定します。
- **サスティン**: 音が減衰してから保持する音量を設定します。
- **リリース**: 音の余韻時間を設定します。
- **ボリューム**: 音量を設定します。

## ビジュアライザー設定

![](https://user-images.githubusercontent.com/7447366/156335207-fff2d892-5745-45f0-9b13-33c31fb6d01e.png)

入力を可視化するビジュアライザーの設定を行います。下部の追加ボタンでビジュアライザーを追加できます。

### 音名

ボタンに割り当てられている音名やコードを表示します。

- **オクターブを表示**: メロディー演奏モード時、オクターブを表す数字を表示するかどうかを設定します。
- **ボタンを表示**: 演奏ボタンアイコンを表示するかどうかを設定します。

### キーボード

ピアノキーボードを表示します。

- **音程**: 「移動ド」に設定すると、キーボード上でキーが C となるように移調して表示します。実際に演奏される音に影響はありません。「固定ド」に設定すると移調せず表示します。
- **範囲**: 表示される音程の範囲を設定します。
- **待機中の鍵盤をハイライト**: 演奏ボタン入力時に演奏されるキーをハイライトするかどうかを設定します。

### あの楽器

[【初音ミク】Innocence【3DPV】](https://www.nicovideo.jp/watch/sm5480792) に登場する楽器の画面のようなエフェクトを表示します。

- **図形**: 表示される図形を設定します。

## システム設定

<img width="253" alt="system" src="https://user-images.githubusercontent.com/7447366/156335254-91a7a022-c389-480d-889f-6983c6c0542f.png">

画面右上の歯車ボタンでシステム設定を行うことができます。

- **テーマ**: アプリケーションの表示テーマを設定します。「自動」に設定すると `prefers-color-scheme` メディア特性に基づいて自動的にテーマを設定します。
- **言語**: アプリケーションの表示言語を設定します。
